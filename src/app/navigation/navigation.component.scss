// Styles for the header container itself (lives in app-navigation component)
header {
  display: flex;
  // Adjust justify-content for desktop layout
  justify-content: space-between; // Keep this for desktop initially, we'll adjust within the media query
  align-items: center;
  padding: 15px 30px;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%);
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  box-sizing: border-box;
}

.logo-container {
  padding-right: 100px; // Keep the original padding for larger screens
  padding-top: 20px; // Keep the original padding for larger screens
  z-index: 101;
  flex-shrink: 0;

  .logo {
    width: 50px;
    height: auto;
    cursor: pointer;
    filter: drop-shadow(0 0 0px #00bfff) drop-shadow(0 0 6px #71dbff);
    animation: glowPulse 1s infinite alternate ease-in-out;
    transition: filter 0.3s ease;

    &:hover {
      filter: drop-shadow(0 0 6px rgb(255, 120, 120)) drop-shadow(0 0 12px rgb(255, 0, 0));
      animation: ease-in-out 1s ;
    }
  }
}

@keyframes glowPulse {
  from {
    filter: drop-shadow(0 0 0px #00bfff) drop-shadow(0 0 0px #00bfff);
  }
  to {
    filter: drop-shadow(0 0 6px #00bfff) drop-shadow(0 0 12px #00bfff);
  }
}

// --- Navigation Menu (Base Styles - for Desktop) ---
nav {
ul {
  list-style: none;
  display: flex;
  margin: 0;
  padding: 0;

  li {
    position: relative;

    a {
      display: block;
      padding: 10px 20px;
      color: white;
      text-decoration: none;
      transition: color 0.3s ease;
      font-family: 'Koulen', sans-serif;

      &.active {
        color: red;
      }

      &:hover {
        color: red;
      }
    }
  }

  // --- Desktop Dropdown Styles ---
  .portfolio-dropdown {
    cursor: pointer;
    font-family: 'Koulen', sans-serif;

    .dropdown-arrow {
      margin-left: 8px;
      transition: transform 0.3s ease;
      display: inline-block;

      &.open {
        transform: rotate(180deg);
      }
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      display: none; // Desktop default is hidden
      background: rgba(0, 0, 0, 0.925);
      padding: 10px 0;
      border-bottom: 2px solid red;
      transition: all 0.3s ease;

      li {
        a {
          display: block;
          padding: 10px 20px;
          color: white;
          background: transparent;
          transition: background 0.3s ease, color 0.3s ease;
          font-family: 'Koulen', sans-serif;

          &:hover {
            background: white;
            color: red;
          }

          &.active {
            color: red;
          }

          &:active {
            color: white;
          }
        }
      }
    }

    &.open {
      .dropdown-menu {
        display: block; // Show when parent has .open
      }
    }
  }

  // Hide mobile portfolio item in desktop
  .mobile-portfolio-item {
      display: none;
  }
}
}

// --- Menu Icon (Hidden by default on Desktop) ---
.menu-icon {
display: none; // Hidden by default on large screens
flex-direction: column;
cursor: pointer;
padding: 10px;
z-index: 102;

.bar {
  height: 3px;
  width: 25px;
  background-color: white; // Default color is white
  margin: 4px 0;
  transition: all 0.3s ease;
}

// Style for the bars when the menu-icon is open (clicked)
&.open {
  .bar {
    background-color: red; // Change the background color to red
  }

  .bar:nth-child(1) {
    transform: rotate(-45deg) translate(-9px, 6px);
  }

  .bar:nth-child(2) {
    opacity: 0;
  }

  .bar:nth-child(3) {
    transform: rotate(45deg) translate(-9px, -6px);
  }
}
}


// --- Media Query for Desktop (min-width >= 559px) ---
// Using min-width for desktop overrides
@media (min-width: 559px) {
  header {
    // Reverse the order of nav and logo-container in the flex container
    // This moves nav to the left and logo to the right
    flex-direction: row-reverse;
    justify-content: space-between; // Still space between the reversed items
  }

  .logo-container {
      // Specific desktop styles for logo container positioning
      // Remove absolute positioning used in mobile
      position: static;
      padding-right: 0px; // Keep padding for spacing from right edge/content
      padding-top: 0px;
      margin: 0; // Ensure no conflicting margin from mobile styles
  }

  nav {
      // Nav takes its natural position on the left due to flex-direction: row-reverse
      // Ensure it's displayed as flex for horizontal layout
      font-size: 24px; // Adjust font size for desktop
      display: flex;
      position: static; // Remove absolute positioning used in mobile
      top: auto; // Remove top positioning
      width: auto; // Allow nav to take width based on content
      background-color: transparent; // Remove mobile background
      flex-direction: row; // Ensure nav items are in a row

      ul {
         flex-direction: row; // Nav list items in a row
         align-items: center;
      }
  }

  // Show desktop portfolio item and hide mobile one
  nav ul {
      .desktop-portfolio-dropdown {
          display: block;
      }
      .mobile-portfolio-item {
          display: none;
      }
  }

  // Ensure desktop dropdown menu is positioned correctly
  nav ul .portfolio-dropdown .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0; // Position the dropdown below the parent link
  }
}


// --- Media Query for Mobile (< 558px) ---
@media (max-width: 567px) {

header {
  flex-direction: row; // Keep header as flex-direction: row for smaller screens
  align-items: center;
  justify-content: space-between; // Space between logo (right) and menu icon (left)
  padding: 10px 20px; // Adjust padding for smaller screens
}

.logo-container {
  padding: 0;
  margin: 0;
  position: absolute; // Position the logo absolutely within the header
  top: 50%;
  right: 20px; // Position from the right (adjust based on desired spacing)
  transform: translateY(-50%);
}

// Show the menu icon below 558px
.menu-icon {
  display: flex;
}

// --- Mobile Navigation Menu ---
nav {
  position: absolute; // Position the nav absolutely below the header
  top: 60px; // Adjust based on header height
  left: 0;
  width: 100%;
  background-color: #111;
  flex-direction: column;
  display: none; // Default state is hidden on small screens
  z-index: 999; // Ensure the nav is above most content when open

  ul {
    flex-direction: column;
    align-items: flex-start;

    li {
      width: 100%;
      position: static; // Reset position for list items in mobile menu

      a {
        width: 100%;
        padding: 10px 20px;
      }
    }

    // Hide the desktop portfolio item in mobile
    .desktop-portfolio-dropdown {
        display: none;
    }

    // Show the mobile portfolio item
    .mobile-portfolio-item {
        display: block;
        width: 100%;

        .mobile-menu-trigger {
            display: flex;
            // Align items in a row for the trigger
            flex-direction: row;
            // Change justify-content to keep text and icon together
            justify-content: flex-start; // Align items to the start
            align-items: center; // Vertically align items
            padding: 10px 20px; // Match padding of other links
            cursor: pointer;

            a {
                padding: 0; // Remove padding from the nested 'a'
                margin-right: 5px; // Add a small margin between text and icon
            }

            .plus-icon {
                width: 20px;
                height: 20px;
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                transition: transform 0.3s ease;

                &::before,
                &::after {
                    content: '';
                    position: absolute;
                    background-color: white;
                    transition: transform 0.3s ease;
                }

                &::before {
                    width: 100%;
                    height: 2px;
                }

                &::after {
                    width: 2px;
                    height: 100%;
                }

                &.open {
                    transform: rotate(45deg);
                     &::before,
                     &::after {
                         background-color: red;
                     }
                }
            }
        }

        .mobile-submenu {
            list-style: none;
            display: none;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 0 10px 30px;
            border-bottom: 2px solid red;

            li {
                width: auto;
                a {
                    padding: 8px 10px;
                    font-size: 0.9em;
                }
            }

            &.open {
                display: block;
            }
        }
    }

     // Ensure the desktop dropdown menu is hidden within the mobile nav
     .portfolio-dropdown {
         .dropdown-menu {
             display: none !important;
         }
         .dropdown-arrow {
             display: none !important;
         }
     }
  }

  // Rule to display the main nav when the .open class is added by JS (for mobile menu toggle)
  &.open {
    display: flex;
  }
}
}